# 効果関数一覧

このドキュメントは、`core/effects.ts`の`resolveEffectByFunctionName`関数で実装されている全ての効果関数の一覧です。

## 目次

1. [マーカー系](#マーカー系)
2. [ダメージ系](#ダメージ系)
3. [バフ系](#バフ系)
4. [デバフ系](#デバフ系)
5. [回復/ライフ系](#回復ライフ系)
6. [停止/封印系](#停止封印系)
7. [カード操作系](#カード操作系)
8. [破壊系](#破壊系)
9. [打ち消し系](#打ち消し系)
10. [ステータス付与系](#ステータス付与系)
11. [攻撃操作系](#攻撃操作系)
12. [コントロール系](#コントロール系)
13. [枠封鎖系](#枠封鎖系)
14. [複合効果系](#複合効果系)
15. [MP操作系](#mp操作系)
16. [死亡時特殊系](#死亡時特殊系)

---

## マーカー系

### `action_effect`
- **説明**: アクション効果マーカー（エンジン側で制御）
- **パラメータ**: なし
- **使用例**: `action_effect`

---

## ダメージ系

### `split_damage_all_enemy_units`
- **説明**: 全敵ユニットにダメージを振り分ける
- **パラメータ**: 総ダメージ量
- **使用例**: `split_damage_all_enemy_units:5`

### `damage_front_unit`
- **説明**: 正面のユニットにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_front_unit:2`

### `damage_random_enemy`
- **説明**: ランダムな敵ユニット1体にダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_random_enemy:3`

### `damage_all_units`
- **説明**: 全てのユニットにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_all_units:1`

### `damage_all_units_and_heroes`
- **説明**: 全てのユニットとヒーローにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_all_units_and_heroes:1`

### `damage_enemy_hero`
- **説明**: 敵ヒーローにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_enemy_hero:3`

### `damage_all_enemy_units_each`
- **説明**: 全ての敵ユニットに均等にダメージ（各ユニットに同値）
- **パラメータ**: ダメージ量
- **使用例**: `damage_all_enemy_units_each:1`

### `damage_halted_enemies`
- **説明**: 停止状態の全敵ユニットにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_halted_enemies:6`

### `pierce_damage_target`
- **説明**: シールドを無視してダメージを与える
- **パラメータ**: ダメージ量
- **使用例**: `pierce_damage_target:4`

### `damage_lowest_hp_enemy`
- **説明**: 最もHPの低いランダムな敵ユニット1体にダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_lowest_hp_enemy:1`

### `damage_self`
- **説明**: 自身にダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_self:2`

### `damage_target`
- **説明**: 対象にダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_target:3`

### `damage_front_unit_by_attack`
- **説明**: 正面のユニットに自身の攻撃力分のダメージ
- **パラメータ**: なし（攻撃力を参照）
- **使用例**: `damage_front_unit_by_attack`

### `damage_front_unit_by_action_count`
- **説明**: 正面のユニットにこのバトル中に使用したアクションカード枚数分のダメージ
- **パラメータ**: なし（アクションカード使用回数を参照）
- **使用例**: `damage_front_unit_by_action_count`

### `damage_flight_units`
- **説明**: ＜空戦＞を持つ全ユニットにダメージ
- **パラメータ**: ダメージ量
- **使用例**: `damage_flight_units:7`

### `damage_random_enemy_by_self_hp`
- **説明**: ランダムな敵ユニット1体に自身のHP分のダメージ
- **パラメータ**: なし（HPを参照）
- **使用例**: `damage_random_enemy_by_self_hp`

### `damage_by_friendly_count`
- **説明**: 味方ユニットの数に応じてダメージ
- **パラメータ**: 1体あたりのダメージ量
- **使用例**: `damage_by_friendly_count:2`

### `damage_by_graveyard_count`
- **説明**: 墓地のカード数に応じてダメージ
- **パラメータ**: なし（墓地のカード数を参照）
- **使用例**: `damage_by_graveyard_count`

---

## バフ系

### `buff_random_friendly_attack`
- **説明**: ランダムな味方ユニット1体の攻撃力を増加
- **パラメータ**: 増加量
- **使用例**: `buff_random_friendly_attack:1`

### `buff_random_friendly_hp`
- **説明**: ランダムな味方ユニット1体のHPを増加
- **パラメータ**: 増加量
- **使用例**: `buff_random_friendly_hp:3`

### `buff_all_friendly_attack`
- **説明**: 全ての味方ユニットの攻撃力を増加
- **パラメータ**: 増加量
- **使用例**: `buff_all_friendly_attack:2`

### `buff_all_friendly_hp`
- **説明**: 全ての味方ユニットのHPを増加
- **パラメータ**: 増加量
- **使用例**: `buff_all_friendly_hp:3`

### `buff_self_attack_hp`
- **説明**: 自身の攻撃力とHPを同時に増加
- **パラメータ**: 増加量（攻撃力とHPに同じ値を適用）
- **使用例**: `buff_self_attack_hp:1`

### `buff_self_attack`
- **説明**: 自身の攻撃力を増加
- **パラメータ**: 増加量
- **使用例**: `buff_self_attack:2`

### `buff_self_hp`
- **説明**: 自身のHPを増加
- **パラメータ**: 増加量
- **使用例**: `buff_self_hp:3`

### `buff_target_attack`
- **説明**: 対象の攻撃力を増加
- **パラメータ**: 増加量
- **使用例**: `buff_target_attack:2`

### `buff_target_hp`
- **説明**: 対象のHPを増加
- **パラメータ**: 増加量
- **使用例**: `buff_target_hp:3`

### `buff_all_friendly_attack_hp`
- **説明**: 全ての味方ユニットの攻撃力とHPを同時に増加
- **パラメータ**: 増加量（攻撃力とHPに同じ値を適用）
- **使用例**: `buff_all_friendly_attack_hp:2`

### `split_heal_friendly`
- **説明**: 味方ユニットにHPを振り分ける
- **パラメータ**: 総回復量
- **使用例**: `split_heal_friendly:3`

### `buff_self_attack_temp`
- **説明**: 自身の攻撃力を一時的に増加（1回攻撃するまで）
- **パラメータ**: 増加量
- **使用例**: `buff_self_attack_temp:2`

### `buff_all_friendly_attack_temp`
- **説明**: 全ての味方ユニットの攻撃力を一時的に増加（1回攻撃するまで）
- **パラメータ**: 増加量
- **使用例**: `buff_all_friendly_attack_temp:2`

### `buff_target_attack_temp`
- **説明**: 対象の攻撃力を一時的に増加（1回攻撃するまで）
- **パラメータ**: 増加量
- **使用例**: `buff_target_attack_temp:2`

---

## デバフ系

### `debuff_random_enemy_attack`
- **説明**: ランダムな敵ユニット1体の攻撃力を減少
- **パラメータ**: 減少量
- **使用例**: `debuff_random_enemy_attack:1`

### `debuff_all_enemy_attack`
- **説明**: 全ての敵ユニットの攻撃力を減少
- **パラメータ**: 減少量
- **使用例**: `debuff_all_enemy_attack:2`

### `debuff_all_enemy_attack_temp`
- **説明**: 全ての敵ユニットの攻撃力を一時的に減少（1回攻撃するまで）
- **パラメータ**: 減少量
- **使用例**: `debuff_all_enemy_attack_temp:2`

---

## 回復/ライフ系

### `heal_hero`
- **説明**: 味方ヒーローのライフを回復
- **パラメータ**: 回復量
- **使用例**: `heal_hero:3`

### `life_sacrifice`
- **説明**: 味方ヒーローのライフを消費してコストとする
- **パラメータ**: 消費量
- **使用例**: `life_sacrifice:3`

### `halve_hero_life`
- **説明**: 味方ヒーローのライフを半分にする
- **パラメータ**: なし
- **使用例**: `halve_hero_life`

### `mp_gain`
- **説明**: MPを獲得
- **パラメータ**: 獲得量
- **使用例**: `mp_gain:2`

---

## 停止/封印系

### `halt_random_enemy`
- **説明**: ランダムな敵ユニット1体を一定時間停止
- **パラメータ**: 停止時間（秒）
- **使用例**: `halt_random_enemy:5`

### `halt_front_unit`
- **説明**: 正面のユニットを一定時間停止
- **パラメータ**: 停止時間（秒）
- **使用例**: `halt_front_unit:5`

### `seal_front_unit`
- **説明**: 正面のユニットを封印
- **パラメータ**: なし
- **使用例**: `seal_front_unit`

### `seal_target`
- **説明**: 対象を封印
- **パラメータ**: なし
- **使用例**: `seal_target`

### `seal_random_enemy`
- **説明**: ランダムな敵ユニット1体を封印
- **パラメータ**: なし
- **使用例**: `seal_random_enemy`

### `seal_random_enemy_exclude_front`
- **説明**: 正面以外のランダムな敵ユニット1体を封印
- **パラメータ**: なし
- **使用例**: `seal_random_enemy_exclude_front`

### `halt_killer`
- **説明**: 自身を破壊した敵を停止
- **パラメータ**: 停止時間（秒）
- **使用例**: `halt_killer:5`

---

## カード操作系

### `draw_to_ex`
- **説明**: デッキから1枚引いてEXポケットに加える
- **パラメータ**: 枚数
- **使用例**: `draw_to_ex:1`

### `return_to_ex`
- **説明**: ユニットをEXポケットに戻す
- **パラメータ**: なし
- **使用例**: `return_to_ex`

### `summon_token`
- **説明**: トークンユニットを場に出す
- **パラメータ**: トークンID
- **使用例**: `summon_token:1`

### `revive_from_graveyard`
- **説明**: 墓地からユニットを復活
- **パラメータ**: 枚数
- **使用例**: `revive_from_graveyard:1`

### `send_to_graveyard`
- **説明**: カードを墓地に送る
- **パラメータ**: なし
- **使用例**: `send_to_graveyard`

### `return_friendly_to_ex`
- **説明**: 味方ユニットをEXポケットに戻す
- **パラメータ**: なし
- **使用例**: `return_friendly_to_ex`

### `explore_card`
- **説明**: デッキから特定カードを検索してEXポケットに加える
- **パラメータ**: カード名（文字列として扱う）
- **使用例**: `explore_card:激昂`

### `return_low_attack_enemy_to_ex`
- **説明**: 攻撃力が指定値以下のランダムな敵ユニット1体をEXポケットに戻す
- **パラメータ**: 攻撃力の閾値
- **使用例**: `return_low_attack_enemy_to_ex:2`

---

## 破壊系

### `destroy_target`
- **説明**: 対象を破壊
- **パラメータ**: なし
- **使用例**: `destroy_target`

### `destroy_random_enemy`
- **説明**: ランダムな敵ユニット1体を破壊
- **パラメータ**: MP閾値（MPが指定値以下の敵を対象）
- **使用例**: `destroy_random_enemy:5`

### `destroy_friendly`
- **説明**: 味方ユニットを破壊
- **パラメータ**: なし
- **使用例**: `destroy_friendly`

### `destroy_self`
- **説明**: 自身を破壊
- **パラメータ**: なし
- **使用例**: `destroy_self`

### `destroy_low_attack`
- **説明**: 攻撃力が指定値以下のランダムな敵ユニット1体を破壊
- **パラメータ**: 攻撃力の閾値
- **使用例**: `destroy_low_attack:1`

---

## 打ち消し系

### `negate_action`
- **説明**: アクションカードを打ち消す
- **パラメータ**: なし
- **使用例**: `negate_action`

### `negate_and_return`
- **説明**: アクションカードを打ち消してEXポケットに戻す
- **パラメータ**: なし
- **使用例**: `negate_and_return`

---

## ステータス付与系

### `grant_flight_self`
- **説明**: 自身に＜空戦＞を付与
- **パラメータ**: なし
- **使用例**: `grant_flight_self`

### `grant_agility_self`
- **説明**: 自身に＜俊敏＞を付与
- **パラメータ**: なし
- **使用例**: `grant_agility_self`

### `grant_crush_self`
- **説明**: 自身に＜圧倒＞を付与
- **パラメータ**: なし
- **使用例**: `grant_crush_self`

### `grant_spillover_self`
- **説明**: 自身に＜波及＞を付与
- **パラメータ**: なし
- **使用例**: `grant_spillover_self`

### `grant_flight_target`
- **説明**: 対象に＜空戦＞を付与
- **パラメータ**: なし
- **使用例**: `grant_flight_target`

### `grant_agility_target`
- **説明**: 対象に＜俊敏＞を付与
- **パラメータ**: なし
- **使用例**: `grant_agility_target`

### `grant_shield_self`
- **説明**: 自身に＜シールド＞を付与
- **パラメータ**: 枚数
- **使用例**: `grant_shield_self:1`

### `grant_shield_random_friendly`
- **説明**: ランダムな味方ユニット1体に＜シールド＞を付与
- **パラメータ**: 枚数
- **使用例**: `grant_shield_random_friendly:1`

### `grant_crush_all_friendly_temp`
- **説明**: 全ての味方ユニットに＜圧倒＞を一時的に付与（1回攻撃するまで）
- **パラメータ**: なし
- **使用例**: `grant_crush_all_friendly_temp`

### `remove_flight`
- **説明**: ＜空戦＞を解除
- **パラメータ**: なし
- **使用例**: `remove_flight`

---

## 攻撃操作系

### `reset_attack_timer`
- **説明**: 攻撃タイマーをリセット
- **パラメータ**: なし
- **使用例**: `reset_attack_timer`

### `immediate_attack`
- **説明**: 即座に攻撃する
- **パラメータ**: なし
- **使用例**: `immediate_attack`

---

## コントロール系

### `control_enemy`
- **説明**: 敵ユニットのコントロールを奪取
- **パラメータ**: なし
- **使用例**: `control_enemy`

---

## 枠封鎖系

### `lock_lane`
- **説明**: ユニット枠を一定時間使用不可にする
- **パラメータ**: 封鎖時間（秒）
- **使用例**: `lock_lane:10`

---

## 複合効果系

### `grant_attack_effect`
- **説明**: 攻撃時に発動する効果を付与
- **パラメータ**: 効果関数名（文字列）
- **使用例**: `grant_attack_effect:damage_front_unit_by_attack`

### `grant_combo_self_temp`
- **説明**: 自身に＜連撃＞を一時的に付与（1回攻撃するまで）
- **パラメータ**: なし
- **使用例**: `grant_combo_self_temp`

---

## MP操作系

### `halve_mp`
- **説明**: MPを半分にする
- **パラメータ**: なし
- **使用例**: `halve_mp`

---

## 死亡時特殊系

### `death_damage_hero_by_attack`
- **説明**: 死亡時に自身の攻撃力分のダメージを敵ヒーローに与える
- **パラメータ**: なし（攻撃力を参照）
- **使用例**: `death_damage_hero_by_attack`

---

## その他

### `art_charge`
- **説明**: アーツチャージ（AP獲得）
- **パラメータ**: 獲得量
- **使用例**: `art_charge:2`

---

## トリガー指定

効果関数は、以下のトリガーと組み合わせて使用できます：

- `play:` - プレイ時
- `attack:` - 攻撃時
- `death:` - 死亡時
- `decimate:` - 撃破時
- `resonate:` - 呼応時
- `enter_field:` - 場に出た時
- `growth:` - 成長時（MPベース）
- `memory:` - メモリー時
- `awakening:` - 目覚め時
- `unleash:` - 解放時
- `hero_hit:` - 敵ヒーローにダメージを与えた時
- `halted_enemy_death:` - 停止敵死亡時
- `friendly_unit_enter:` - 味方ユニット登場時
- `attack_threshold:` - 攻撃力閾値到達時
- `hp_threshold:` - HP閾値到達時
- `energy:` - エナジー発動時
- `while_on_field:` - 場にいる間

### 使用例

```
play:damage_front_unit:1;growth:3;growth_level_2:buff_self_hp:3;growth_level_3:grant_attack_effect:damage_front_unit_by_attack
```

この例では：
- `play:damage_front_unit:1` - プレイ時に正面のユニットに1ダメージ
- `growth:3` - 成長3（3MP分のグローポイントでレベルアップ）
- `growth_level_2:buff_self_hp:3` - 成長Lv2でHP+3
- `growth_level_3:grant_attack_effect:damage_front_unit_by_attack` - 成長Lv3で攻撃時に自身の攻撃力分のダメージを付与

---

## ステータス効果（キーワード）

以下のステータス効果は、効果関数として直接指定できます：

- `rush` - ＜臨戦＞
- `flight` - ＜空戦＞
- `agility` - ＜俊敏＞
- `heavy_pierce` - ＜重貫通＞
- `combo` - ＜連撃＞
- `spillover` - ＜波及＞
- `revenge` - ＜リベンジ＞
- `shield:N` - ＜シールド＞（N枚）
- `mp_boost:N` - MPブースト（N%）

### 使用例

```
rush;flight;shield:1;mp_boost:20
```

---

## 注意事項

1. 効果関数はセミコロン（`;`）で区切って複数指定できます
2. パラメータはコロン（`:`）で区切って指定します
3. トリガー指定がない場合、デフォルトで`play`トリガーとして扱われます
4. 一部の効果関数は、特定のコンテキスト（`sourceUnit`など）が必要です

